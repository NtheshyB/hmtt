(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"023c":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" 我是子my ")])},i=[]},"11dc":function(t,e,n){},1705:function(t,e,n){},"199c":function(t,e){},"1b28":function(t,e,n){"use strict";var a=n("7672"),i=n.n(a);e["default"]=i.a},"1fe3":function(t,e,n){},"21ac":function(t,e,n){"use strict";var a=n("1705"),i=n.n(a);i.a},"23be":function(t,e,n){"use strict";var a=n("199c"),i=n.n(a);e["default"]=i.a},"26b3":function(t,e,n){},"338b":function(t,e,n){"use strict";var a=n("77c1"),i=n.n(a);e["default"]=i.a},"3dfd":function(t,e,n){"use strict";var a=n("b10f"),i=n("23be"),o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=n("3dfd"),o=n("8c4f"),s=n("c22d"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("van-nav-bar",{staticClass:"login_nav",attrs:{title:"登录"}}),n("van-form",{on:{submit:t.onSubmit}},[n("van-cell-group",[n("van-field",{attrs:{placeholder:"请输入手机号",rules:[{required:!0,message:"请填写手机号",pattern:/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,trigger:"onBlur"}]},scopedSlots:t._u([{key:"left-icon",fn:function(){return[n("i",{staticClass:"iconfont icon-shouji"})]},proxy:!0}]),model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),n("van-field",{staticClass:"code",attrs:{"left-icon":"comment-o",placeholder:"请输入验证码",rules:[{required:!0,message:"请填写验证码",pattern:/^\d{6}$/,trigger:"onBlur"}]},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"mini",type:"primary",color:"#ccc",round:""}},[t._v("发送验证码")])]},proxy:!0},{key:"left-icon",fn:function(){return[n("i",{staticClass:"iconfont icon-lock"})]},proxy:!0}]),model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),n("div",{staticClass:"btnBox"},[n("van-button",{attrs:{type:"info",size:"large"}},[t._v("登录")])],1)],1)],1)},c=[],l={data:function(){return{mobile:"13977777777",code:"246810"}},methods:{onSubmit:function(){var t=this;this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/authorizations",method:"POST",data:{mobile:this.mobile,code:this.code}}).then((function(e){var n=e.data.data;console.log(n),n=JSON.stringify(n),window.localStorage.setItem("loginInfo",n),t.$router.push("/index")}))}}},u=l,d=(n("7950"),n("2877")),h=Object(d["a"])(u,r,c,!1,null,"06659bb8",null),f=h.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view"),n("van-tabbar",{attrs:{route:""}},[n("van-tabbar-item",{attrs:{to:"/index",icon:"home-o"}},[t._v("主页")]),n("van-tabbar-item",{attrs:{to:"/search",icon:"search"}},[t._v("搜索")]),n("van-tabbar-item",{attrs:{to:"/video",icon:"friends-o"}},[t._v("视频")]),n("van-tabbar-item",{attrs:{to:"/my",icon:"setting-o"}},[t._v("我的")])],1)],1)},v=[],m={},g=m,_=Object(d["a"])(g,p,v,!1,null,null,null),b=_.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("van-nav-bar",{staticClass:"login_nav",attrs:{fixed:!0,title:"主页"}}),n("van-tabs",{attrs:{sticky:"","offset-top":"46"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.channelList,(function(e,a){return n("van-tab",{key:a,attrs:{title:e.name}},[n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:e.isLoading,callback:function(n){t.$set(e,"isLoading",n)},expression:"item.isLoading"}},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:e.loading,callback:function(n){t.$set(e,"loading",n)},expression:"item.loading"}},t._l(e.articleList,(function(e,a){return n("van-cell",{key:a,on:{click:function(n){return n.stopPropagation(),t.getDetails(e.art_id)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("h4",[t._v(t._s(e.title))]),0!==e.cover.type?n("van-grid",{attrs:{border:!1,"column-num":3}},t._l(e.cover.images,(function(t,e){return n("van-grid-item",{key:e},[n("van-image",{attrs:{src:t}})],1)})),1):t._e(),n("div",{staticClass:"other"},[n("span",[t._v(t._s(e.aut_name))]),n("span",[t._v(t._s(e.comm_count))]),n("span",[t._v(t._s(t._f("timeFilter")(e.pubdate)))])])]},proxy:!0}],null,!0)})})),1)],1)],1)})),1),n("div",{staticClass:"channelicon",on:{click:t.openChannel}},[n("van-icon",{attrs:{name:"bars"}})],1),n("channel",{ref:"mychannel"})],1)},k=[],w=(n("99af"),n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel"},[n("van-popup",{style:{height:"70%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-cell",{attrs:{title:"我的频道"},scopedSlots:t._u([{key:"default",fn:function(){return[!1===t.iconsShow?n("van-button",{staticClass:"myeditbtn",attrs:{type:"danger",plain:"",round:"",size:"mini"},on:{click:function(e){t.iconsShow=!0}}},[t._v("编辑")]):n("van-button",{staticClass:"myeditbtn",attrs:{type:"danger",plain:"",round:"",size:"mini"},on:{click:function(e){t.iconsShow=!1}}},[t._v("完成")])]},proxy:!0}])}),n("van-grid",t._l(t.$parent.channelList,(function(e,a){return n("van-grid-item",{key:a,staticClass:"itemf",class:{active:a===t.$parent.active},on:{click:function(e){return t.changeIndex(a)}},scopedSlots:t._u([{key:"text",fn:function(){return[t._v(" "+t._s(e.name)+" "),t.iconsShow&&0!==a?n("van-icon",{staticClass:"icons",attrs:{name:"clear"},on:{click:function(e){return e.stopPropagation(),t.delChannel(a)}}}):t._e()]},proxy:!0}],null,!0)})})),1),n("van-cell",{attrs:{title:"频道推荐"}}),n("van-grid",t._l(t.getTui,(function(e,a){return n("van-grid-item",{key:a,on:{click:function(n){return t.addChannel(e)}},scopedSlots:t._u([{key:"text",fn:function(){return[t._v(" "+t._s(e.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1)}),S=[],$=(n("caad"),n("d81d"),n("fb6a"),n("a434"),n("2532"),{data:function(){return{show:!1,iconsShow:!1,allChannel:[]}},created:function(){var t=this;this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/channels",method:"GET"}).then((function(e){t.allChannel=e.data.data.channels}))},computed:{getTui:function(){var t=this.$parent.channelList.map((function(t){return t.id})),e=this.allChannel.filter((function(e){return!t.includes(e.id)}));return e}},methods:{addChannel:function(t){this.$set(t,"loading",!1),this.$set(t,"finished",!1),this.$set(t,"isLoading",!1),this.$set(t,"articleList",[]),this.$parent.channelList.push(t);var e=JSON.parse(window.localStorage.getItem("loginInfo"));if(e&&e.token){var n=this.$parent.channelList.slice(1).map((function(t,e){return{id:t.id,seq:e+2}}));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/user/channels",method:"PUT",headers:{Authorization:"Bearer "+e.token},data:{channels:n}}).then((function(t){console.log(t),console.log("操作成功")}))}else window.localStorage.setItem("channels",JSON.stringify(this.$parent.channelList))},delChannel:function(t){this.$parent.channelList.splice(t,1),t<this.$parent.active&&(this.$parent.active=this.$parent.active-1);var e=JSON.parse(window.localStorage.getItem("loginInfo"));if(e&&e.token){var n=this.$parent.channelList.slice(1).map((function(t,e){return{id:t.id,seq:e+2}}));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/user/channels",method:"PUT",headers:{Authorization:"Bearer "+e.token},data:{channels:n}}).then((function(t){console.log(t),console.log("操作成功")}))}else window.localStorage.setItem("channels",JSON.stringify(this.$parent.channelList))},changeIndex:function(t){this.$parent.active=t}}}),L=$,x=(n("ad9c"),Object(d["a"])(L,w,S,!1,null,"75014636",null)),C=x.exports,O=n("d604"),I=n.n(O),E={data:function(){return{channelList:[],active:0}},methods:{onLoad:function(){var t=this.channelList[this.active],e=t.id;this.$http({url:"http://ttapi.research.itcast.cn/app/v1_1/articles",method:"GET",params:{channel_id:e,timestamp:Date.now(),with_top:0},transformResponse:[function(t){return I.a.parse(t)}]}).then((function(e){t.articleList=t.articleList.concat(e.data.data.results),t.loading=!1,0===e.data.data.results.length&&(t.finished=!0)}))},onRefresh:function(){var t=this.channelList[this.active];t.loading=!1,t.isLoading=!1,t.finished=!1,t.articleList=[],this.onLoad()},addOtherProp:function(){var t=this;this.channelList.forEach((function(e){t.$set(e,"loading",!1),t.$set(e,"finished",!1),t.$set(e,"isLoading",!1),t.$set(e,"articleList",[])}))},openChannel:function(){var t=this.$refs.mychannel;t.show=!0},getDetails:function(t){this.$router.push("/details?art_id="+t)}},created:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));if(e&&e.token)this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/user/channels",method:"GET",headers:{Authorization:"Bearer "+e.token}}).then((function(e){t.channelList=e.data.data.channels,t.addOtherProp()}));else{var n=JSON.parse(window.localStorage.getItem("channels"));n?(this.channelList=n,this.addOtherProp()):this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/user/channels",method:"GET"}).then((function(e){t.channelList=e.data.data.channels,t.addOtherProp()}))}},components:{channel:C}},P=E,T=(n("fbb2"),Object(d["a"])(P,y,k,!1,null,"f95c2cf8",null)),j=T.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("van-search",{attrs:{"show-action":"",shape:"round",background:"#3296fa",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:t.onCancel,input:t.think},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),0!==t.thinkList.length?n("van-cell-group",[n("van-cell",{attrs:{title:"联想区域"}}),t._l(t.thinkList,(function(e,a){return n("van-cell",{key:a,attrs:{icon:"search"},on:{click:function(n){return t.onSearch(e.oldItem)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{domProps:{innerHTML:t._s(e.newItem)}})]},proxy:!0}],null,!0)})}))],2):n("van-cell-group",[n("van-cell",{attrs:{title:"历史区域"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"delete"},on:{click:function(e){return t.delAllHistory()}}})]},proxy:!0}])}),t._l(t.historyList,(function(e,a){return n("van-cell",{key:a,attrs:{title:e,icon:"search"},on:{click:function(n){return t.onSearch(e)}},scopedSlots:t._u([{key:"default",fn:function(){return[n("van-icon",{attrs:{name:"cross"},on:{click:function(e){return e.stopPropagation(),t.delHistory(a)}}})]},proxy:!0}],null,!0)})}))],2)],1)},z=[],N=(n("d3b7"),n("ac1f"),n("6062"),n("3ca3"),n("5319"),n("ddb0"),n("2909")),B={data:function(){return{value:"",thinkList:[],historyList:[]}},methods:{onSearch:function(t){this.historyList.unshift(t);var e=JSON.stringify(this.historyList);window.localStorage.setItem("history",e),this.$router.push("/searchResult?key="+t)},onCancel:function(){console.log("取消")},think:function(){var t=this;0!==this.value.length?this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/suggestion",method:"GET",params:{q:this.value}}).then((function(e){t.thinkList=e.data.data.options,t.thinkList=t.thinkList.map((function(e){return{oldItem:e,newItem:e.replace(t.value,'<span style="color:red">'+t.value+"</span>")}}))})):this.thinkList=[]},delHistory:function(t){this.historyList.splice(t,1);var e=JSON.stringify(this.historyList);window.localStorage.setItem("history",e)},delAllHistory:function(){var t=this;this.$dialog.confirm({title:"注意！",message:"您确定要清空历史记录吗"}).then((function(){t.historyList=[];var e=JSON.stringify(t.historyList);window.localStorage.setItem("history",e)})).catch((function(){console.log("取消")}))}},created:function(){var t=JSON.parse(window.localStorage.getItem("history"));this.historyList=Object(N["a"])(new Set(t))||[]}},A=B,R=(n("21ac"),Object(d["a"])(A,J,z,!1,null,"307fc1b6",null)),D=R.exports,q=n("89a1"),M=n("effd"),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("van-nav-bar",{staticClass:"login_nav",attrs:{"left-arrow":"",fixed:!0,title:"搜索结果"},on:{"click-left":t.onClickLeft}}),n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.searchResult,(function(e,a){return n("van-cell",{key:a,scopedSlots:t._u([{key:"title",fn:function(){return[n("h4",{on:{click:function(n){return n.stopPropagation(),t.getDetails(e.art_id)}}},[t._v(t._s(e.title))]),0!=e.cover.type?n("van-grid",{attrs:{border:!1,"column-num":3}},t._l(e.cover.images,(function(a,i){return n("van-grid-item",{key:i,on:{click:function(n){return n.stopPropagation(),t.getDetails(e.art_id)}}},[n("van-image",{attrs:{src:a}})],1)})),1):t._e(),n("div",{staticClass:"other"},[n("span",[t._v(t._s(e.aut_name))]),n("span",[t._v(t._s(e.comm_count))]),n("span",[t._v(t._s(t._f("timeFilter")(e.pubdate)))]),t.istarget===e.art_id&&!0===t.isCollect?n("span",{on:{click:function(n){return t.collect(e.art_id)}}},[n("i",{staticClass:"iconfont icon-shoucang"})]):t._e(),!1===t.isCollect||t.istarget!==e.art_id?n("span",{on:{click:function(n){return n.stopPropagation(),t.collect(e.art_id)}}},[n("i",{staticClass:"iconfont icon-shoucang1"})]):t._e()]),n("van-grid",{attrs:{direction:"horizontal","column-num":3}},[n("van-grid-item",{attrs:{icon:"friends-o",text:"留言"}}),n("van-grid-item",{attrs:{icon:"like-o",text:"点赞"}}),n("van-grid-item",{attrs:{icon:"exchange",text:"分享"}})],1)]},proxy:!0}],null,!0)})})),1)],1)],1)},H=[],F={data:function(){return{searchResult:[],loading:!1,finished:!1,isLoading:!1,page:1,per_page:10,isCollect:!1,istarget:""}},created:function(){},methods:{onClickLeft:function(){this.$router.back()},onLoad:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));e&&e.token?this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/search",method:"GET",headers:{Authorization:"Bearer "+e.token},params:{page:this.page,per_page:this.per_page,q:this.$route.query.key},transformResponse:[function(t){return I.a.parse(t)}]}).then((function(e){console.log(e.data.data.results),t.searchResult=t.searchResult.concat(e.data.data.results),t.loading=!1,t.page++,0===e.data.data.results.length&&(t.finished=!0)})):this.$router.push("/login")},onRefresh:function(){this.loading=!1,this.isLoading=!1,this.finished=!1,this.searchResult=[],this.onLoad()},getDetails:function(t){this.$router.push("/details?art_id="+t)},collect:function(t){var e=this,n=JSON.parse(window.localStorage.getItem("loginInfo"));n&&n.token?this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/collections",method:"POST",headers:{Authorization:"Bearer "+n.token},data:{target:t}}).then((function(t){console.log(t.data.message),console.log(t.data.data.target),e.istarget=t.data.data.target,e.isCollect=!e.isCollect})):this.$router.push("/login")}}},Y=F,U=(n("ca0d"),Object(d["a"])(Y,G,H,!1,null,"42b25d75",null)),K=U.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"details"},[n("van-nav-bar",{staticClass:"login_nav",attrs:{"left-arrow":"",fixed:!0,title:"文章详情"},on:{"click-left":function(e){return t.$router.back()}}}),n("h2",[t._v(t._s(t.details.title))]),n("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"auth"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.details.aut_photo,alt:""}})]),n("div",{staticClass:"userMsg"},[n("div",{staticClass:"username"},[t._v(t._s(t.details.aut_name))]),n("div",[t._v(t._s(t._f("timeFilter")(t.details.pubdate)))])]),n("div",{staticClass:"btn"},[!1===t.details.is_followed?n("van-button",{attrs:{type:"info"},on:{click:t.follow}},[t._v("+ 关注")]):n("van-button",{attrs:{type:"info"},on:{click:t.unfollow}},[t._v("取消关注")])],1)])]},proxy:!0}])}),n("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{domProps:{innerHTML:t._s(t.details.content)}})]},proxy:!0}])}),n("div",{staticClass:"btns"},[n("div",{staticClass:"zan"},[1===t.details.attitude?n("van-button",{attrs:{plain:"",round:"",icon:"like",type:"danger"},on:{click:t.unpraise}},[t._v("点赞")]):n("van-button",{attrs:{plain:"",round:"",icon:"like-o",type:"default"},on:{click:t.praise}},[t._v("点赞")])],1),n("div",{staticClass:"dislike"},[0===t.details.attitude?n("van-button",{attrs:{plain:"",round:"",icon:"delete",type:"danger"},on:{click:t.undislike}},[t._v("不喜欢")]):n("van-button",{attrs:{plain:"",round:"",icon:"delete",type:"default"},on:{click:t.dislike}},[t._v("不喜欢")])],1),n("div",{staticClass:"collect"},[!0===t.details.is_collected?n("van-button",{attrs:{plain:"",round:"",icon:"star",type:"danger"},on:{click:t.uncollect}},[t._v("收藏")]):n("van-button",{attrs:{plain:"",round:"",icon:"star-o",type:"default"},on:{click:t.collect}},[t._v("收藏")])],1)]),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.commentList,(function(t,e){return n("comment",{key:e,attrs:{myitem:t}})})),1),n("div",{staticClass:"write"},[n("write")],1)],1)},V=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-search",{attrs:{shape:"round","left-icon":"","show-action":""},on:{search:t.onSearch,cancel:t.onCancel},scopedSlots:t._u([{key:"action",fn:function(){return[n("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSearch}},[t._v("发送")])]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},X=[],Z={data:function(){return{value:""}},methods:{onSearch:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/comments",method:"POST",headers:{Authorization:"Bearer "+e.token},data:{target:this.$route.query.art_id,content:this.value}}).then((function(e){console.log(e);var n=e.data.data.new_obj;t.$parent.commentList.unshift(n),t.value=""}))},onCancel:function(){}}},tt=Z,et=Object(d["a"])(tt,W,X,!1,null,null,null),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"box"},[n("div",{staticClass:"img",on:{click:t.test}},[n("img",{attrs:{src:t.myitem.aut_photo,alt:""}})]),n("div",{staticClass:"msg"},[n("div",{staticClass:"auth"},[t._v(t._s(t.myitem.aut_name))]),n("div",{staticClass:"content"},[t._v(t._s(t.myitem.content))]),n("div",{staticClass:"oth"},[n("span",[t._v(t._s(t._f("timeFilter")(t.myitem.pubdate)))]),n("span",[t._v(t._s(t.myitem.reply_count)+"回复")])])]),n("div",{staticClass:"like"},[n("van-icon",{attrs:{name:"like-o"}})],1)])]},proxy:!0}])})],1)},it=[],ot={props:["myitem"],data:function(){return{}},methods:{test:function(){console.log("ds "+this.$parent.text)}}},st=ot,rt=(n("ad79"),Object(d["a"])(st,at,it,!1,null,"4d282f82",null)),ct=rt.exports,lt={data:function(){return{loading:!1,finished:!1,artId:this.$route.query.art_id,details:[],commentList:[],offset:null,limit:10,endid:0}},components:{write:nt,comment:ct},methods:{onLoad:function(){var t=this;this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/comments",method:"GET",params:{type:"a",source:this.artId,offset:this.offset,limit:this.limit}}).then((function(e){t.offset=e.data.data.last_id,t.endid=e.data.data.end_id,t.commentList=t.commentList.concat(e.data.data.results),t.loading=!1,t.offset===t.endid&&(t.finished=!0)}))},unfollow:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo")),n=this.details.aut_id;this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/user/followings/"+n,method:"DELETE",headers:{Authorization:"Bearer "+e.token}}).then((function(e){console.log(e),t.$toast.success("取关用户成功"),t.details.is_followed=!1}))},follow:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo")),n=this.details.aut_id;this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/user/followings",method:"POST",headers:{Authorization:"Bearer "+e.token},data:{target:n}}).then((function(e){console.log(e),t.$toast.success("关注用户成功"),t.details.is_followed=!0}))},praise:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/likings",method:"POST",headers:{Authorization:"Bearer "+e.token},data:{target:this.artId}}).then((function(e){console.log(e),t.$toast.success("点赞成功"),t.details.attitude=1}))},unpraise:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/likings/"+this.artId,method:"DELETE",headers:{Authorization:"Bearer "+e.token}}).then((function(e){console.log(e),t.$toast.success("取消点赞成功"),t.details.attitude=-1}))},dislike:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/dislikes",method:"POST",headers:{Authorization:"Bearer "+e.token},data:{target:this.artId}}).then((function(e){console.log(e),t.$toast.success("已设置为不喜欢"),t.details.attitude=0}))},undislike:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/dislikes/"+this.artId,method:"DELETE",headers:{Authorization:"Bearer "+e.token}}).then((function(e){console.log(e),t.$toast.success("取消不喜欢成功"),t.details.attitude=-1}))},collect:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/collections",method:"POST",headers:{Authorization:"Bearer "+e.token},data:{target:this.artId}}).then((function(e){console.log(e),t.$toast.success("收藏成功"),t.details.is_collected=!0}))},uncollect:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/article/collections/"+this.artId,method:"DELETE",headers:{Authorization:"Bearer "+e.token}}).then((function(e){console.log(e),t.$toast.success("取消收藏成功"),t.details.is_collected=!1}))}},created:function(){var t=this,e=JSON.parse(window.localStorage.getItem("loginInfo"));this.$http({url:"http://ttapi.research.itcast.cn/app/v1_0/articles/"+this.artId,method:"GET",headers:{Authorization:"Bearer "+e.token}}).then((function(e){t.details=e.data.data}))}},ut=lt,dt=(n("9b01"),Object(d["a"])(ut,Q,V,!1,null,"c96d5d40",null)),ht=dt.exports,ft=n("b970"),pt=(n("157a"),n("b29b"),n("bc3a")),vt=n.n(pt),mt=n("5a0c"),gt=n.n(mt),_t=n("4208"),bt=n.n(_t);n("a471");gt.a.extend(bt.a),gt.a.locale("zh-cn"),a["a"].use(o["a"]);var yt=[{path:"/test",component:s["default"]},{path:"/login",component:f},{path:"/home",component:b,children:[{path:"/index",component:j},{path:"/search",component:D},{path:"/video",component:q["default"]},{path:"/my",component:M["default"]}]},{path:"/searchResult",component:K},{path:"/details",component:ht}],kt=new o["a"]({routes:yt});a["a"].use(ft["a"]),a["a"].prototype.$http=vt.a,console.log("-------------------使用dayjs------------------");var wt="2019-10-23T09:46:54",St=gt()(wt).format("YYYY-MM-DD hh:mm:ss");console.log(St);var $t=gt()().from(gt()(wt));console.log($t),console.log("-------------------使用dayjs------------------"),a["a"].filter("timeFilter",(function(t){return gt()().from(gt()(t))})),new a["a"]({render:function(t){return t(i["default"])},router:kt}).$mount("#app")},"6cbe":function(t,e,n){"use strict";var a=n("a0c6"),i=n.n(a);e["default"]=i.a},"739a":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("我是test")]),n("h3",[t._v("1.vant按钮")]),n("van-button",{attrs:{type:"default"}},[t._v("默认按钮")]),n("van-button",{attrs:{type:"primary"}},[t._v("主要按钮")]),n("van-button",{attrs:{type:"info"}},[t._v("信息按钮")]),n("van-button",{attrs:{type:"warning"}},[t._v("警告按钮")]),n("van-button",{attrs:{type:"danger"}},[t._v("危险按钮")]),n("h3",[t._v("2.vant icon图标")]),n("van-icon",{attrs:{name:"like-o"}}),n("van-icon",{attrs:{name:"phone-o"}}),n("h3",[t._v("3.vant cell单元格")]),n("van-cell",{attrs:{title:"单元格",value:"内容"}}),n("van-cell",{attrs:{title:"单元格",value:"内容",label:"描述信息"}}),n("h3",[t._v("4.vant中的插槽")]),n("van-cell",{attrs:{value:"内容"},scopedSlots:t._u([{key:"title",fn:function(){return[n("van-icon",{attrs:{name:"like-o"}}),t._v(" 你好哇 "),n("van-icon",{attrs:{name:"like-o"}})]},proxy:!0},{key:"default",fn:function(){return[n("van-icon",{attrs:{name:"alipay"}}),t._v(" 支付宝 "),n("van-icon",{attrs:{name:"alipay"}})]},proxy:!0}])})],1)},i=[]},7672:function(t,e){},"77c1":function(t,e){},7950:function(t,e,n){"use strict";var a=n("ee8b"),i=n.n(a);i.a},"89a1":function(t,e,n){"use strict";var a=n("a0cd"),i=n("1b28"),o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},"8a47":function(t,e,n){},"9b01":function(t,e,n){"use strict";var a=n("8a47"),i=n.n(a);i.a},a0c6:function(t,e){},a0cd:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" 我是子video ")])},i=[]},ad79:function(t,e,n){"use strict";var a=n("26b3"),i=n.n(a);i.a},ad9c:function(t,e,n){"use strict";var a=n("1fe3"),i=n.n(a);i.a},b10f:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)},i=[]},b29b:function(t,e,n){},bdc0:function(t,e,n){},c22d:function(t,e,n){"use strict";var a=n("739a"),i=n("6cbe"),o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},ca0d:function(t,e,n){"use strict";var a=n("bdc0"),i=n.n(a);i.a},ee8b:function(t,e,n){},effd:function(t,e,n){"use strict";var a=n("023c"),i=n("338b"),o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},fbb2:function(t,e,n){"use strict";var a=n("11dc"),i=n.n(a);i.a}});
//# sourceMappingURL=app.dbdfa568.js.map